var ol=Object.defineProperty;var al=(t,e,n)=>e in t?ol(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var U=(t,e,n)=>(al(t,typeof e!="symbol"?e+"":e,n),n),Zt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var E=(t,e,n)=>(Zt(t,e,"read from private field"),n?n.call(t):e.get(t)),K=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},G=(t,e,n,i)=>(Zt(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);var _e=(t,e,n)=>(Zt(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();function ce(){}function mi(t){return t()}function yn(){return Object.create(null)}function me(t){t.forEach(mi)}function Ne(t){return typeof t=="function"}function Qe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ul(t){return Object.keys(t).length===0}function fl(t,...e){if(t==null)return ce;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}const bi=typeof window<"u";let wn=bi?()=>window.performance.now():()=>Date.now(),gi=bi?t=>requestAnimationFrame(t):ce;const Fe=new Set;function _i(t){Fe.forEach(e=>{e.c(t)||(Fe.delete(e),e.f())}),Fe.size!==0&&gi(_i)}function cl(t){let e;return Fe.size===0&&gi(_i),{promise:new Promise(n=>{Fe.add(e={c:t,f:n})}),abort(){Fe.delete(e)}}}function q(t,e){t.appendChild(e)}function B(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode.removeChild(t)}function vi(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function H(t){return document.createElement(t)}function Z(t){return document.createTextNode(t)}function pe(){return Z(" ")}function yi(){return Z("")}function F(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function dt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function dl(t){return Array.from(t.childNodes)}function le(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function S(t,e,n){t.classList[n?"add":"remove"](e)}function hl(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,i,e),l}let ht;function at(t){ht=t}function wi(){if(!ht)throw new Error("Function called outside component initialization");return ht}function pl(t){wi().$$.on_mount.push(t)}function ml(){const t=wi();return(e,n,{cancelable:i=!1}={})=>{const l=t.$$.callbacks[e];if(l){const r=hl(e,n,{cancelable:i});return l.slice().forEach(s=>{s.call(t,r)}),!r.defaultPrevented}return!0}}const rt=[],pt=[],At=[],ln=[],bl=Promise.resolve();let sn=!1;function gl(){sn||(sn=!0,bl.then(Ai))}function Lt(t){At.push(t)}function _l(t){ln.push(t)}const xt=new Set;let wt=0;function Ai(){const t=ht;do{for(;wt<rt.length;){const e=rt[wt];wt++,at(e),vl(e.$$)}for(at(null),rt.length=0,wt=0;pt.length;)pt.pop()();for(let e=0;e<At.length;e+=1){const n=At[e];xt.has(n)||(xt.add(n),n())}At.length=0}while(rt.length);for(;ln.length;)ln.pop()();sn=!1,xt.clear(),at(t)}function vl(t){if(t.fragment!==null){t.update(),me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Lt)}}const kt=new Set;let Ee;function yl(){Ee={r:0,c:[],p:Ee}}function wl(){Ee.r||me(Ee.c),Ee=Ee.p}function ve(t,e){t&&t.i&&(kt.delete(t),t.i(e))}function je(t,e,n,i){if(t&&t.o){if(kt.has(t))return;kt.add(t),Ee.c.push(()=>{kt.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Al=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function kl(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function mt(t){t&&t.c()}function Je(t,e,n,i){const{fragment:l,on_mount:r,on_destroy:s,after_update:o}=t.$$;l&&l.m(e,n),i||Lt(()=>{const a=r.map(mi).filter(Ne);s?s.push(...a):me(a),t.$$.on_mount=[]}),o.forEach(Lt)}function Ye(t,e){const n=t.$$;n.fragment!==null&&(me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Cl(t,e){t.$$.dirty[0]===-1&&(rt.push(t),gl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gt(t,e,n,i,l,r,s,o=[-1]){const a=ht;at(t);const f=t.$$={fragment:null,ctx:null,props:r,update:ce,not_equal:l,bound:yn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:yn(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};s&&s(f.root);let c=!1;if(f.ctx=n?n(t,e.props||{},(u,p,...m)=>{const h=m.length?m[0]:p;return f.ctx&&l(f.ctx[u],f.ctx[u]=h)&&(!f.skip_bound&&f.bound[u]&&f.bound[u](h),c&&Cl(t,u)),p}):[],f.update(),c=!0,me(f.before_update),f.fragment=i?i(f.ctx):!1,e.target){if(e.hydrate){const u=dl(e.target);f.fragment&&f.fragment.l(u),u.forEach(z)}else f.fragment&&f.fragment.c();e.intro&&ve(t.$$.fragment),Je(t,e.target,e.anchor,e.customElement),Ai()}at(a)}class _t{$destroy(){Ye(this,1),this.$destroy=ce}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){this.$$set&&!ul(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ke(){}const El=t=>t;function ye(t,e){for(const n in e)t[n]=e[n];return t}function ki(t){return t()}function An(){return Object.create(null)}function Ze(t){t.forEach(ki)}function Dt(t){return typeof t=="function"}function Gt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Pe(t,e,n,i){if(t){const l=Ci(t,e,n,i);return t[0](l)}}function Ci(t,e,n,i){return t[1]&&i?ye(n.ctx.slice(),t[1](i(e))):n.ctx}function Ve(t,e,n,i,l,r,s){const o=function(a,f,c,u){if(a[2]&&u){const p=a[2](u(c));if(f.dirty===void 0)return p;if(typeof p=="object"){const m=[],h=Math.max(f.dirty.length,p.length);for(let g=0;g<h;g+=1)m[g]=f.dirty[g]|p[g];return m}return f.dirty|p}return f.dirty}(e,i,l,r);if(o){const a=Ci(e,n,i,s);t.p(a,o)}}function Ot(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Mt(t,e){const n={};e=new Set(e);for(const i in t)e.has(i)||i[0]==="$"||(n[i]=t[i]);return n}function kn(t){return t==null?"":t}const Ei=typeof window<"u";let Sl=Ei?()=>window.performance.now():()=>Date.now(),mn=Ei?t=>requestAnimationFrame(t):ke;const Xe=new Set;function Si(t){Xe.forEach(e=>{e.c(t)||(Xe.delete(e),e.f())}),Xe.size!==0&&mn(Si)}let Nt=!1;function Tl(t,e,n,i){for(;t<e;){const l=t+(e-t>>1);n(l)<=i?t=l+1:e=l}return t}function Y(t,e){Nt?(function(n){if(n.hydrate_init)return;n.hydrate_init=!0;const i=n.childNodes,l=new Int32Array(i.length+1),r=new Int32Array(i.length);l[0]=-1;let s=0;for(let c=0;c<i.length;c++){const u=Tl(1,s+1,m=>i[l[m]].claim_order,i[c].claim_order)-1;r[c]=l[u]+1;const p=u+1;l[p]=c,s=Math.max(p,s)}const o=[],a=[];let f=i.length-1;for(let c=l[s]+1;c!=0;c=r[c-1]){for(o.push(i[c-1]);f>=c;f--)a.push(i[f]);f--}for(;f>=0;f--)a.push(i[f]);o.reverse(),a.sort((c,u)=>c.claim_order-u.claim_order);for(let c=0,u=0;c<a.length;c++){for(;u<o.length&&a[c].claim_order>=o[u].claim_order;)u++;const p=u<o.length?o[u]:null;n.insertBefore(a[c],p)}}(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function ne(t,e,n){Nt&&!n?Y(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}function te(t){t.parentNode.removeChild(t)}function ie(t){return document.createElement(t)}function ut(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ti(t){return document.createTextNode(t)}function he(){return Ti(" ")}function Li(){return Ti("")}function jt(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function Pt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function T(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Vt(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set?t[i]=e[i]:T(t,i,e[i])}function We(t,e,n){t.classList[n?"add":"remove"](e)}function Di(t,e,n=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,!1,e),i}const rn=new Set;let It,Ct=0;function Cn(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),l=n.length-i.length;l&&(t.style.animation=i.join(", "),Ct-=l,Ct||mn(()=>{Ct||(rn.forEach(r=>{const s=r.__svelte_stylesheet;let o=s.cssRules.length;for(;o--;)s.deleteRule(o);r.__svelte_rules={}}),rn.clear())}))}function qt(t){It=t}function Oi(){if(!It)throw new Error("Function called outside component initialization");return It}function Kt(){const t=Oi();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const l=Di(e,n);i.slice().forEach(r=>{r.call(t,l)})}}}const ot=[],on=[],Et=[],an=[],Ll=Promise.resolve();let un=!1;function bt(t){Et.push(t)}let $t=!1;const en=new Set;function Mi(){if(!$t){$t=!0;do{for(let t=0;t<ot.length;t+=1){const e=ot[t];qt(e),Dl(e.$$)}for(qt(null),ot.length=0;on.length;)on.pop()();for(let t=0;t<Et.length;t+=1){const e=Et[t];en.has(e)||(en.add(e),e())}Et.length=0}while(ot.length);for(;an.length;)an.pop()();un=!1,$t=!1,en.clear()}}function Dl(t){if(t.fragment!==null){t.update(),Ze(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(bt)}}let st;function En(t,e,n){t.dispatchEvent(Di(`${e?"intro":"outro"}${n}`))}const St=new Set;let Se;function ft(){Se={r:0,c:[],p:Se}}function ct(){Se.r||Ze(Se.c),Se=Se.p}function N(t,e){t&&t.i&&(St.delete(t),t.i(e))}function X(t,e,n,i){if(t&&t.o){if(St.has(t))return;St.add(t),Se.c.push(()=>{St.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}const Ol={duration:0};function Ml(t,e,n){let i,l,r=e(t,n),s=!1,o=0;function a(){i&&Cn(t,i)}function f(){const{delay:u=0,duration:p=300,easing:m=El,tick:h=ke,css:g}=r||Ol;g&&(i=function(k,M,L,P,O,_,C,D=0){const R=16.666/P;let se=`{
`;for(let oe=0;oe<=1;oe+=R){const ae=M+(L-M)*_(oe);se+=100*oe+`%{${C(ae,1-ae)}}
`}const J=se+`100% {${C(L,1-L)}}
}`,W=`__svelte_${function(oe){let ae=5381,Ie=oe.length;for(;Ie--;)ae=(ae<<5)-ae^oe.charCodeAt(Ie);return ae>>>0}(J)}_${D}`,re=k.ownerDocument;rn.add(re);const v=re.__svelte_stylesheet||(re.__svelte_stylesheet=re.head.appendChild(ie("style")).sheet),be=re.__svelte_rules||(re.__svelte_rules={});be[W]||(be[W]=!0,v.insertRule(`@keyframes ${W} ${J}`,v.cssRules.length));const et=k.style.animation||"";return k.style.animation=`${et?`${et}, `:""}${W} ${P}ms linear ${O}ms 1 both`,Ct+=1,W}(t,0,1,p,u,m,g,o++)),h(0,1);const w=Sl()+u,b=w+p;l&&l.abort(),s=!0,bt(()=>En(t,!0,"start")),l=function(k){let M;return Xe.size===0&&mn(Si),{promise:new Promise(L=>{Xe.add(M={c:k,f:L})}),abort(){Xe.delete(M)}}}(k=>{if(s){if(k>=b)return h(1,0),En(t,!0,"end"),a(),s=!1;if(k>=w){const M=m((k-w)/p);h(M,1-M)}}return s})}let c=!1;return{start(){c||(Cn(t),Dt(r)?(r=r(),(st||(st=Promise.resolve(),st.then(()=>{st=null})),st).then(f)):f())},invalidate(){c=!1},end(){s&&(a(),s=!1)}}}function Ni(t,e){const n={},i={},l={$$scope:1};let r=t.length;for(;r--;){const s=t[r],o=e[r];if(o){for(const a in s)a in o||(i[a]=1);for(const a in o)l[a]||(n[a]=o[a],l[a]=1);t[r]=o}else for(const a in s)l[a]=1}for(const s in i)s in n||(n[s]=void 0);return n}function vt(t){t&&t.c()}function xe(t,e,n,i){const{fragment:l,on_mount:r,on_destroy:s,after_update:o}=t.$$;l&&l.m(e,n),i||bt(()=>{const a=r.map(ki).filter(Dt);s?s.push(...a):Ze(a),t.$$.on_mount=[]}),o.forEach(bt)}function $e(t,e){const n=t.$$;n.fragment!==null&&(Ze(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Nl(t,e){t.$$.dirty[0]===-1&&(ot.push(t),un||(un=!0,Ll.then(Mi)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ut(t,e,n,i,l,r,s=[-1]){const o=It;qt(t);const a=t.$$={fragment:null,ctx:null,props:r,update:ke,not_equal:l,bound:An(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o?o.$$.context:e.context||[]),callbacks:An(),dirty:s,skip_bound:!1};let f=!1;if(a.ctx=n?n(t,e.props||{},(c,u,...p)=>{const m=p.length?p[0]:u;return a.ctx&&l(a.ctx[c],a.ctx[c]=m)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](m),f&&Nl(t,c)),u}):[],a.update(),f=!0,Ze(a.before_update),a.fragment=!!i&&i(a.ctx),e.target){if(e.hydrate){Nt=!0;const c=function(u){return Array.from(u.childNodes)}(e.target);a.fragment&&a.fragment.l(c),c.forEach(te)}else a.fragment&&a.fragment.c();e.intro&&N(t.$$.fragment),xe(t,e.target,e.anchor,e.customElement),Nt=!1,Mi()}qt(o)}class Jt{$destroy(){$e(this,1),this.$destroy=ke}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){var n;this.$$set&&(n=e,Object.keys(n).length!==0)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function fn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ji(t,e){if(t){if(typeof t=="string")return fn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(t,e):void 0}}function Sn(t){return function(e){if(Array.isArray(e))return fn(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||ji(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var r,s,o=[],a=!0,f=!1;try{for(l=l.call(n);!(a=(r=l.next()).done)&&(o.push(r.value),!i||o.length!==i);a=!0);}catch(c){f=!0,s=c}finally{try{a||l.return==null||l.return()}finally{if(f)throw s}}return o}}(t,e)||ji(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var zt=function(t){return t.reduce(function(e,n){var i=jl(n,3),l=i[0],r=i[1],s=i[2];return l&&r?[].concat(Sn(e),[r]):!l&&s?[].concat(Sn(e),[s]):e},[]).join(" ")};function Pl(t){const e=t-1;return e*e*e+1}function Vl(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}function Il(t,{delay:e=0,duration:n=400,easing:i=Pl,start:l=0,opacity:r=0}={}){const s=getComputedStyle(t),o=+s.opacity,a=s.transform==="none"?"":s.transform,f=1-l,c=o*(1-r);return{delay:e,duration:n,easing:i,css:(u,p)=>`
			transform: ${a} scale(${1-f*p});
			opacity: ${o-c*p}
		`}}function yt(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",n==="top"&&i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t))}}function ql(t){let e,n,i,l,r,s,o,a=[{"data-testid":"__palette-slot-root__"},t[5],{"aria-label":n=t[0]||t[3]},{style:i="--color:"+t[0]+"; --outerBorderColor:"+(t[0]||"#aaa")+";"},{class:l=zt([[!t[0],"empty"],[t[1],"selected"],[!t[2],"clickable"]])},{disabled:t[2]}],f={};for(let c=0;c<a.length;c+=1)f=ye(f,a[c]);return{c(){e=ie("button"),Vt(e,f),We(e,"svelte-1mybjw2",!0)},m(c,u){ne(c,e,u),s||(o=jt(e,"click",Pt(t[4])),s=!0)},p(c,[u]){t=c,Vt(e,f=Ni(a,[{"data-testid":"__palette-slot-root__"},32&u&&t[5],9&u&&n!==(n=t[0]||t[3])&&{"aria-label":n},1&u&&i!==(i="--color:"+t[0]+"; --outerBorderColor:"+(t[0]||"#aaa")+";")&&{style:i},7&u&&l!==(l=zt([[!t[0],"empty"],[t[1],"selected"],[!t[2],"clickable"]]))&&{class:l},4&u&&{disabled:t[2]}])),We(e,"svelte-1mybjw2",!0)},i(c){r||bt(()=>{r=Ml(e,Il,{duration:500,easing:Vl}),r.start()})},o:ke,d(c){c&&te(e),s=!1,o()}}}function zl(t,e,n){const i=["color","selected","disabled","emptyAriaLabel"];let l=Mt(e,i),{color:r=null}=e,{selected:s=!1}=e,{disabled:o=!1}=e,{emptyAriaLabel:a="No color"}=e;const f=Kt();return t.$$set=c=>{e=ye(ye({},e),Ot(c)),n(5,l=Mt(e,i)),"color"in c&&n(0,r=c.color),"selected"in c&&n(1,s=c.selected),"disabled"in c&&n(2,o=c.disabled),"emptyAriaLabel"in c&&n(3,a=c.emptyAriaLabel)},[r,s,o,a,()=>!o&&f("click",{color:r}),l]}yt("button.svelte-1mybjw2{width:1rem;height:1rem;margin:0;padding:0;border:1px solid rgba(0, 0, 0, 0.2);border-radius:50%;background-color:var(--color)}button.svelte-1mybjw2:active{background-color:var(--color)}button.selected.svelte-1mybjw2{outline:2px solid var(--outerBorderColor);outline-offset:2px}button.clickable.svelte-1mybjw2{cursor:pointer}button.empty.svelte-1mybjw2{border:#aaa solid 1px;background:linear-gradient(to top left, #00000000 calc(50% - 1px), #aaa 50% 50%, #00000000 calc(50% + 1px))}");class bn extends Jt{constructor(e){super(),Ut(this,e,zl,ql,Gt,{color:0,selected:1,disabled:2,emptyAriaLabel:3})}}function Hl(t){let e,n=!!window.EyeDropper&&function(i){let l,r,s,o,a,f=[{"data-testid":"__palette-eyedropper-root__"},i[2],{type:"submit"},{"aria-label":i[0]}],c={};for(let u=0;u<f.length;u+=1)c=ye(c,f[u]);return{c(){l=ie("button"),r=ut("svg"),s=ut("path"),T(s,"d","M 16 2.908 C 15.991 2.106 15.656 1.343 15.072 0.794 C 13.917 -0.299 12.048 -0.258 10.904 0.886 L 9.096 2.694 C 8.315 1.982 7.113 2.009 6.365 2.756 L 5.786 3.335 C 5.272 3.85 5.272 4.683 5.786 5.199 L 5.956 5.368 L 1.809 9.515 C 1.039 10.288 0.7 11.39 0.902 12.461 L 0.096 14.307 C -0.092 14.734 0.002 15.232 0.333 15.561 C 0.579 15.808 0.913 15.948 1.262 15.948 C 1.445 15.948 1.625 15.91 1.792 15.837 L 3.522 15.081 C 4.594 15.283 5.696 14.944 6.469 14.174 L 10.615 10.028 L 10.785 10.197 C 11.3 10.711 12.134 10.711 12.649 10.197 L 13.228 9.618 C 13.974 8.87 14.001 7.668 13.29 6.887 L 15.131 5.045 C 15.7 4.481 16.013 3.709 16 2.908 Z M 5.537 13.242 C 5.036 13.741 4.309 13.936 3.626 13.754 C 3.482 13.716 3.329 13.728 3.193 13.787 L 1.424 14.559 L 2.196 12.791 C 2.256 12.654 2.268 12.501 2.229 12.357 C 2.048 11.674 2.243 10.947 2.741 10.447 L 6.888 6.3 L 9.683 9.096 L 5.537 13.242 Z"),T(s,"class","svelte-8o16rt"),T(r,"viewBox","0 0 16 16"),T(r,"width","16px"),T(r,"height","16px"),T(r,"class","svelte-8o16rt"),Vt(l,c),We(l,"svelte-8o16rt",!0)},m(u,p){ne(u,l,p),Y(l,r),Y(r,s),o||(a=jt(l,"click",Pt(i[1])),o=!0)},p(u,p){Vt(l,c=Ni(f,[{"data-testid":"__palette-eyedropper-root__"},4&p&&u[2],{type:"submit"},1&p&&{"aria-label":u[0]}])),We(l,"svelte-8o16rt",!0)},d(u){u&&te(l),o=!1,a()}}}(t);return{c(){n&&n.c(),e=Li()},m(i,l){n&&n.m(i,l),ne(i,e,l)},p(i,[l]){window.EyeDropper&&n.p(i,l)},i:ke,o:ke,d(i){n&&n.d(i),i&&te(e)}}}function Bl(t,e,n){const i=["buttonAriaLabel"];let l=Mt(e,i),{buttonAriaLabel:r="Submit this hex color value"}=e;const s=Kt();return t.$$set=o=>{e=ye(ye({},e),Ot(o)),n(2,l=Mt(e,i)),"buttonAriaLabel"in o&&n(0,r=o.buttonAriaLabel)},[r,async()=>{try{const o=new EyeDropper,{sRGBHex:a}=await o.open();s("add",{color:a})}catch(o){s("error",{error:o})}},l]}yt("button.svelte-8o16rt.svelte-8o16rt{position:relative;width:2rem;height:2rem;margin:0;background:none;border-color:rgba(0, 0, 0, 0);border-radius:0.3rem;cursor:pointer}button.svelte-8o16rt.svelte-8o16rt:disabled{opacity:0.5}button.svelte-8o16rt.svelte-8o16rt:focus{border-color:rgba(0, 0, 0, 0.3)}svg.svelte-8o16rt.svelte-8o16rt{position:absolute;top:calc(50% - 8px);left:calc(50% - 8px)}svg.svelte-8o16rt path.svelte-8o16rt{fill:rgba(0, 0, 0, 0.6)}");class Rl extends Jt{constructor(e){super(),Ut(this,e,Bl,Hl,Gt,{buttonAriaLabel:0})}}function Tn(t){let e,n,i;function l(s){t[10](s)}let r={"data-testid":"__palette-input-slot__",role:"presentation",tabindex:"-1",disabled:!0};return t[0]!==void 0&&(r.color=t[0]),e=new bn({props:r}),on.push(()=>function(s,o,a){const f=s.$$.props[o];f!==void 0&&(s.$$.bound[f]=a,a(s.$$.ctx[f]))}(e,"color",l)),{c(){vt(e.$$.fragment)},m(s,o){xe(e,s,o),i=!0},p(s,o){const a={};var f;!n&&1&o&&(n=!0,a.color=s[0],f=()=>n=!1,an.push(f)),e.$set(a)},i(s){i||(N(e.$$.fragment,s),i=!0)},o(s){X(e.$$.fragment,s),i=!1},d(s){$e(e,s)}}}function Ln(t){let e,n;return e=new Rl({props:{"data-testid":"__palette-input-eyedropper__",buttonAriaLabel:t[5]}}),e.$on("add",t[8]),{c(){vt(e.$$.fragment)},m(i,l){xe(e,i,l),n=!0},p(i,l){const r={};32&l&&(r.buttonAriaLabel=i[5]),e.$set(r)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$e(e,i)}}}function Fl(t){let e,n,i,l,r,s,o,a,f,c,u,p,m,h=t[1]!=="color"&&Tn(t),g=t[1]!=="color"&&Ln(t);return{c(){e=ie("form"),h&&h.c(),n=he(),i=ie("input"),l=he(),r=ie("button"),s=ut("svg"),o=ut("g"),a=ut("path"),c=he(),g&&g.c(),T(i,"data-testid","__palette-input-input__"),T(i,"type",t[1]),i.value=t[0],T(i,"aria-label",t[2]),T(i,"title",t[3]),T(i,"class","svelte-tkottm"),We(i,"color",t[1]==="color"),T(a,"d","M 14.857 9.143 L 9.143 9.143 L 9.143 14.857 C 9.143 15.489 8.631 16 8 16 C 7.369 16 6.857 15.489 6.857 14.857 L 6.857 9.143 L 1.143 9.143 C 0.512 9.143 0 8.632 0 8 C 0 7.368 0.512 6.857 1.143 6.857 L 6.857 6.857 L 6.857 1.143 C 6.857 0.511 7.369 0 8 0 C 8.631 0 9.143 0.511 9.143 1.143 L 9.143 6.857 L 14.857 6.857 C 15.488 6.857 16 7.368 16 8 C 16 8.632 15.488 9.143 14.857 9.143 Z"),T(a,"class","svelte-tkottm"),T(o,"transform","matrix(0.75, 0, 0, 0.75, 0, 0)"),T(s,"viewBox","0 0 12 12"),T(s,"width","12px"),T(s,"height","12px"),T(s,"class","svelte-tkottm"),T(r,"data-testid","__palette-input-submit__"),T(r,"type","submit"),r.disabled=f=!t[6],T(r,"aria-label",t[4]),T(r,"class","svelte-tkottm"),T(e,"data-testid","__palette-input-root__"),T(e,"class","svelte-tkottm")},m(w,b){ne(w,e,b),h&&h.m(e,null),Y(e,n),Y(e,i),Y(e,l),Y(e,r),Y(r,s),Y(s,o),Y(o,a),Y(e,c),g&&g.m(e,null),u=!0,p||(m=[jt(i,"input",Pt(t[7])),jt(e,"submit",Pt(t[9]))],p=!0)},p(w,[b]){w[1]!=="color"?h?(h.p(w,b),2&b&&N(h,1)):(h=Tn(w),h.c(),N(h,1),h.m(e,n)):h&&(ft(),X(h,1,1,()=>{h=null}),ct()),(!u||2&b)&&T(i,"type",w[1]),(!u||1&b&&i.value!==w[0])&&(i.value=w[0]),(!u||4&b)&&T(i,"aria-label",w[2]),(!u||8&b)&&T(i,"title",w[3]),2&b&&We(i,"color",w[1]==="color"),(!u||64&b&&f!==(f=!w[6]))&&(r.disabled=f),(!u||16&b)&&T(r,"aria-label",w[4]),w[1]!=="color"?g?(g.p(w,b),2&b&&N(g,1)):(g=Ln(w),g.c(),N(g,1),g.m(e,null)):g&&(ft(),X(g,1,1,()=>{g=null}),ct())},i(w){u||(N(h),N(g),u=!0)},o(w){X(h),X(g),u=!1},d(w){w&&te(e),h&&h.d(),g&&g.d(),p=!1,Ze(m)}}}yt("form.svelte-tkottm.svelte-tkottm{display:flex;align-items:center;justify-content:center;column-gap:0.5rem}input.svelte-tkottm.svelte-tkottm{font-family:Helvetica, sans-serif;font-size:0.8rem;max-width:6rem;height:2rem;margin:0;padding:0.5rem;outline:none;color:rgba(0, 0, 0, 0.6);background:rgba(255, 255, 255, 1);border-color:rgba(0, 0, 0, 0.1);border-radius:0.3rem;border-top-right-radius:0;border-bottom-right-radius:0}input.svelte-tkottm.svelte-tkottm:disabled{opacity:0.5}input.svelte-tkottm.svelte-tkottm:focus{border-color:rgba(0, 0, 0, 0.3)}input.color.svelte-tkottm.svelte-tkottm{width:12rem;padding:0.1rem 0.3rem}button.svelte-tkottm.svelte-tkottm{position:relative;width:2rem;height:2rem;margin:0;background:rgba(0, 0, 0, 0.1);border-color:rgba(0, 0, 0, 0);border-radius:0.3rem;border-top-left-radius:0;border-bottom-left-radius:0;cursor:pointer}input.svelte-tkottm+button.svelte-tkottm{margin-left:-0.5rem}button.svelte-tkottm.svelte-tkottm:hover{background:rgba(0, 0, 0, 0.15)}button.svelte-tkottm.svelte-tkottm:disabled{opacity:0.5}button.svelte-tkottm.svelte-tkottm:focus{border-color:rgba(0, 0, 0, 0.3)}svg.svelte-tkottm.svelte-tkottm{position:absolute;top:calc(50% - 6px);left:calc(50% - 6px)}svg.svelte-tkottm path.svelte-tkottm{fill:rgba(0, 0, 0, 0.6)}");const Dn=/^#?(([0-9a-f]{2}){3,4}|([0-9a-f]){3})$/gi;function Xl(t,e,n){let i,{color:l=null}=e,{inputType:r="text"}=e,{inputAriaLabel:s="Enter an hex color value"}=e,{inputTitle:o="The value must be a valid hex color"}=e,{buttonAriaLabel:a="Submit this hex color value"}=e,{eyeDropperButtonAriaLabel:f="Pick a color from the screen"}=e;const c=Kt();return t.$$set=u=>{"color"in u&&n(0,l=u.color),"inputType"in u&&n(1,r=u.inputType),"inputAriaLabel"in u&&n(2,s=u.inputAriaLabel),"inputTitle"in u&&n(3,o=u.inputTitle),"buttonAriaLabel"in u&&n(4,a=u.buttonAriaLabel),"eyeDropperButtonAriaLabel"in u&&n(5,f=u.eyeDropperButtonAriaLabel)},t.$$.update=()=>{var u;1&t.$$.dirty&&n(0,l=(l==null?void 0:l.replace(Dn,"#$1"))||""),2&t.$$.dirty&&n(1,r=r==="text"||r==="color"?r:"text"),1&t.$$.dirty&&n(6,i=!!(u=l)&&Dn.test(u))},[l,r,s,o,a,f,i,({target:{value:u}})=>{n(0,l=u)},({detail:{color:u}})=>{n(0,l=u)},()=>{c("add",{color:l})},function(u){l=u,n(0,l)}]}class Gl extends Jt{constructor(e){super(),Ut(this,e,Xl,Fl,Gt,{color:0,inputType:1,inputAriaLabel:2,inputTitle:3,buttonAriaLabel:4,eyeDropperButtonAriaLabel:5})}}var cn=function(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i},Kl=function(t){if(Array.isArray(t))return cn(t)},Ul=function(t,e){if(t){if(typeof t=="string")return cn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(t,e):void 0}},On=function(t){return Kl(t)||function(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}(t)||Ul(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()};function Mn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Re=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},tn=function(t){return(t==null?void 0:t.nodeType)===1};function Jl(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(a,f){if(a){if(typeof a=="string")return Nn(a,f);var c=Object.prototype.toString.call(a).slice(8,-1);return c==="Object"&&a.constructor&&(c=a.constructor.name),c==="Map"||c==="Set"?Array.from(a):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Nn(a,f):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var i=0,l=function(){};return{s:l,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(a){throw a},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var a=n.next();return s=a.done,a},e:function(a){o=!0,r=a},f:function(){try{s||n.return==null||n.return()}finally{if(o)throw r}}}}function Nn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Q=function(){function t(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),Re(this,"_observer",null)}return function(e,n,i){n&&Mn(e.prototype,n),i&&Mn(e,i)}(t,[{key:"wait",value:function(e){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=l.events,s=r===void 0?t.EVENTS:r,o=l.timeout,a=o===void 0?0:o,f=l.attributeFilter,c=f===void 0?void 0:f,u=l.onError,p=u===void 0?void 0:u;return this.clear(),new Promise(function(m,h){var g=tn(e)?e:document.querySelector(e);g&&s.includes(t.EXIST)&&(i?i(g,t.EXIST):m({node:g,event:t.EXIST})),a>0&&(n._timeout=setTimeout(function(){n.clear();var w=new Error("[TIMEOUT]: Element ".concat(e," cannot be found after ").concat(a,"ms"));i?p==null||p(w):h(w)},a)),n._observer=new MutationObserver(function(w){w.forEach(function(b){var k,M=b.type,L=b.target,P=b.addedNodes,O=b.removedNodes,_=b.attributeName,C=b.oldValue;if(M==="childList"&&(s.includes(t.ADD)||s.includes(t.REMOVE))){var D,R=Jl([].concat(On(s.includes(t.ADD)?Array.from(P):[]),On(s.includes(t.REMOVE)?Array.from(O):[])));try{for(R.s();!(D=R.n()).done;){var se,J=D.value;(J===e||!tn(e)&&(se=J.matches)!==null&&se!==void 0&&se.call(J,e))&&(i?i(J,Array.from(P).includes(J)?t.ADD:t.REMOVE):m({node:J,event:Array.from(P).includes(J)?t.ADD:t.REMOVE}))}}catch(W){R.e(W)}finally{R.f()}}M==="attributes"&&s.includes(t.CHANGE)&&(L===e||!tn(e)&&(k=L.matches)!==null&&k!==void 0&&k.call(L,e))&&(i?i(L,t.CHANGE,{attributeName:_,oldValue:C}):m({node:L,event:t.CHANGE,options:{attributeName:_,oldValue:C}}))})}),n._observer.observe(document.documentElement,{subtree:!0,childList:s.includes(t.ADD)||s.includes(t.REMOVE),attributes:s.includes(t.CHANGE),attributeOldValue:s.includes(t.CHANGE),attributeFilter:c})})}},{key:"clear",value:function(){var e;(e=this._observer)===null||e===void 0||e.disconnect(),clearTimeout(this._timeout)}}]),t}();Re(Q,"EXIST","DOMObserver_exist"),Re(Q,"ADD","DOMObserver_add"),Re(Q,"REMOVE","DOMObserver_remove"),Re(Q,"CHANGE","DOMObserver_change"),Re(Q,"EVENTS",[Q.EXIST,Q.ADD,Q.REMOVE,Q.CHANGE]);yt(`.__tooltip__default {
    position: absolute;
    z-index: 9999;
    max-width: 120px;
    background-color: black;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 0.5rem;
}

.__tooltip__default::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: black transparent transparent transparent;
}`);const Yl=(t,{contentSelector:e,contentClone:n,contentActions:i,contentClassName:l,disabled:r})=>{de.init(e,n);const s=new de(t,i,l);return r&&s.disable(),{update:({contentSelector:o,contentClone:a,contentActions:f,contentClassName:c,disabled:u})=>{de.update(o,a),s.update(f,c),u?s.disable():s.enable()},destroy:()=>{s.destroy()}}};var Te,we,fe,Le,Ge,x,De,$,Ke,Ae,Oe,Me,Pi,dn,Ht,Vi,Bt,Ii,Rt,qi,Ue,Tt,Ft,zi,Xt,Hi;const V=class{constructor(e,n,i){K(this,Me);K(this,Ht);K(this,Bt);K(this,Rt);K(this,Ue);K(this,Ft);K(this,Xt);K(this,x,null);K(this,De,null);K(this,$,null);K(this,Ke,[]);K(this,Ae,null);K(this,Oe,null);G(this,x,e),G(this,De,n),G(this,$,E(V,fe)),G(this,Me,i,dn),_e(this,Ht,Vi).call(this),E(V,Ge).push(this)}static init(e,n=!1){E(V,Te)||(G(V,fe,document.createElement("div")),G(V,we,new Q),E(V,we).wait(e,null,{events:[Q.EXIST,Q.ADD]}).then(({node:i})=>{const l=n?i.cloneNode(!0):i;E(V,fe).appendChild(l)}),G(V,Le,e),G(V,Te,!0))}static update(e,n=!1){E(V,Te)&&e!==E(V,Le)&&(G(V,Le,e),E(V,we).wait(e,null,{events:[Q.EXIST,Q.ADD]}).then(({node:i})=>{E(V,fe).innerHTML="";const l=n?i.cloneNode(!0):i;E(V,fe).appendChild(l)}))}static destroy(){var e,n;E(V,Ge).forEach(i=>{i.destroy()}),G(V,Ge,[]),(e=E(V,fe))===null||e===void 0||(n=e.parentNode)===null||n===void 0||n.removeChild(E(V,fe)),G(V,fe,null),G(V,Le,null),E(V,we).clear(),G(V,Te,!1)}update(e,n){G(this,De,e),G(this,Me,n,dn)}destroy(){_e(this,Bt,Ii).call(this),_e(this,Ue,Tt).call(this)}enable(){E(this,Ae)||(G(this,Ae,_e(this,Ft,zi).bind(this)),G(this,Oe,_e(this,Xt,Hi).bind(this)),E(this,x).addEventListener("mouseenter",E(this,Ae)),E(this,x).addEventListener("mouseleave",E(this,Oe)))}disable(){E(this,x).removeEventListener("mouseenter",E(this,Ae)),E(this,x).removeEventListener("mouseleave",E(this,Oe)),G(this,Ae,null),G(this,Oe,null)}};let de=V;Te=new WeakMap,we=new WeakMap,fe=new WeakMap,Le=new WeakMap,Ge=new WeakMap,x=new WeakMap,De=new WeakMap,$=new WeakMap,Ke=new WeakMap,Ae=new WeakMap,Oe=new WeakMap,Me=new WeakSet,Pi=function(){var e;return(e=E(this,$))===null||e===void 0?void 0:e.getAttribute("class")},dn=function(e){var n;(n=E(this,$))===null||n===void 0||n.setAttribute("class",e||"__tooltip__default")},Ht=new WeakSet,Vi=function(){E(this,x).title="",E(this,x).setAttribute("style","position: relative"),this.enable()},Bt=new WeakSet,Ii=function(){this.disable()},Rt=new WeakSet,qi=function(){E(this,x).appendChild(E(this,$)),E(this,De)&&Object.entries(E(this,De)).forEach(([e,{eventType:n,callback:i,callbackParams:l,closeOnCallback:r}])=>{const s=e==="*"?E(this,$):E(this,$).querySelector(e);if(s){const o=a=>{i==null||i.apply(null,[...l,a]),r&&_e(this,Ue,Tt).call(this)};s.addEventListener(n,o),E(this,Ke).push({trigger:s,eventType:n,listener:o})}})},Ue=new WeakSet,Tt=function(){E(this,x).contains(E(this,$))&&E(this,x).removeChild(E(this,$)),E(this,Ke).forEach(({trigger:e,eventType:n,listener:i})=>e.removeEventListener(n,i)),G(this,Ke,[])},Ft=new WeakSet,zi=function(){_e(this,Rt,qi).call(this),E(V,we).wait(`.${E(this,Me,Pi)}`,null,{events:[Q.EXIST]}).then(({node:e})=>{const{width:n}=E(this,x).getBoundingClientRect(),{width:i,height:l}=E(this,$).getBoundingClientRect();E(this,$).style.left=(-(i-n)>>1)+"px",E(this,$).style.top=-l-6+"px"})},Xt=new WeakSet,Hi=function(){_e(this,Ue,Tt).call(this)},K(de,Te,!1),K(de,we,null),K(de,fe,null),K(de,Le,null),K(de,Ge,[]);yt(".svelte-1l8hev9.svelte-1l8hev9{box-sizing:border-box}.palette__root.svelte-1l8hev9.svelte-1l8hev9{display:flex;flex-direction:column;row-gap:1rem;align-items:center;min-width:10rem;padding:2rem;background-color:#fafafa}.palette__list.svelte-1l8hev9.svelte-1l8hev9{--numCols:4;list-style:none;margin:0;padding:0;display:grid;grid-template-columns:repeat(var(--numCols), 1fr);grid-gap:1rem;align-items:center;justify-items:center}.palette__divider.svelte-1l8hev9.svelte-1l8hev9{border:none;background-color:#ccc;width:calc(100% + 4rem);height:1px;margin-left:-2rem}.tooltip__button.svelte-1l8hev9.svelte-1l8hev9{cursor:pointer;margin:0;padding:0;background:none;border:none}.tooltip__button.svelte-1l8hev9 svg.svelte-1l8hev9{width:1.5rem}.tooltip__button.svelte-1l8hev9 svg path.svelte-1l8hev9{fill:white}.tooltip__button.svelte-1l8hev9.svelte-1l8hev9:active{background:none}.tooltip__button.svelte-1l8hev9:active svg path.svelte-1l8hev9{fill:#aaaaaa}@media(min-width: 320px){.palette__list.svelte-1l8hev9.svelte-1l8hev9{--numCols:5}}");const Wl=t=>({}),jn=t=>({}),Ql=t=>({}),Pn=t=>({}),Zl=t=>({}),Vn=t=>({});function In(t,e,n){const i=t.slice();return i[20]=e[n],i[22]=n,i}const xl=t=>({color:65&t}),qn=t=>({color:t[20]}),$l=t=>({}),zn=t=>({}),es=t=>({}),Hn=t=>({}),ts=t=>({}),Bn=t=>({});function Rn(t){let e,n;const i=t[15].header,l=Pe(i,t,t[14],Bn),r=t[15]["header-divider"],s=Pe(r,t,t[14],Hn),o=s||function(a){let f;return{c(){f=ie("hr"),T(f,"class","palette__divider svelte-1l8hev9")},m(c,u){ne(c,f,u)},d(c){c&&te(f)}}}();return{c(){l&&l.c(),e=he(),o&&o.c()},m(a,f){l&&l.m(a,f),ne(a,e,f),o&&o.m(a,f),n=!0},p(a,f){l&&l.p&&(!n||16384&f)&&Ve(l,i,a,a[14],n?f:-1,ts,Bn),s&&s.p&&(!n||16384&f)&&Ve(s,r,a,a[14],n?f:-1,es,Hn)},i(a){n||(N(l,a),N(o,a),n=!0)},o(a){X(l,a),X(o,a),n=!1},d(a){l&&l.d(a),a&&te(e),o&&o.d(a)}}}function Fn(t){let e,n;const i=t[15]["transparent-slot"],l=Pe(i,t,t[14],zn),r=l||function(s){let o,a;return o=new bn({props:{emptyAriaLabel:"transparent",selected:s[1]===null}}),o.$on("click",s[8]),{c(){vt(o.$$.fragment)},m(f,c){xe(o,f,c),a=!0},p(f,c){const u={};2&c&&(u.selected=f[1]===null),o.$set(u)},i(f){a||(N(o.$$.fragment,f),a=!0)},o(f){X(o.$$.fragment,f),a=!1},d(f){$e(o,f)}}}(t);return{c(){e=ie("li"),r&&r.c(),T(e,"data-testid","__palette-row__"),T(e,"class","svelte-1l8hev9")},m(s,o){ne(s,e,o),r&&r.m(e,null),n=!0},p(s,o){l?l.p&&(!n||16384&o)&&Ve(l,i,s,s[14],n?o:-1,$l,zn):r&&r.p&&(!n||2&o)&&r.p(s,n?o:-1)},i(s){n||(N(r,s),n=!0)},o(s){X(r,s),n=!1},d(s){s&&te(e),r&&r.d(s)}}}function Xn(t){let e,n,i,l,r,s;const o=t[15].slot,a=Pe(o,t,t[14],qn),f=a||function(c){let u,p;return u=new bn({props:{"data-testid":"__palette-slot__",color:c[20],selected:c[20]===c[1]}}),u.$on("click",c[8]),{c(){vt(u.$$.fragment)},m(m,h){xe(u,m,h),p=!0},p(m,h){const g={};65&h&&(g.color=m[20]),67&h&&(g.selected=m[20]===m[1]),u.$set(g)},i(m){p||(N(u.$$.fragment,m),p=!0)},o(m){X(u.$$.fragment,m),p=!1},d(m){$e(u,m)}}}(t);return{c(){e=ie("li"),f&&f.c(),n=he(),T(e,"data-testid","__palette-row__"),T(e,"class","svelte-1l8hev9")},m(c,u){var p;ne(c,e,u),f&&f.m(e,null),Y(e,n),l=!0,r||(p=i=Yl.call(null,e,{contentSelector:t[4]||".tooltip__button",contentClone:!!t[4],contentActions:{"*":{eventType:"click",callback:t[10],callbackParams:[t[22]],closeOnCallback:!0}},contentClassName:t[3],disabled:!t[2]}),s=p&&Dt(p.destroy)?p.destroy:ke,r=!0)},p(c,u){t=c,a?a.p&&(!l||16449&u)&&Ve(a,o,t,t[14],l?u:-1,xl,qn):f&&f.p&&(!l||67&u)&&f.p(t,l?u:-1),i&&Dt(i.update)&&28&u&&i.update.call(null,{contentSelector:t[4]||".tooltip__button",contentClone:!!t[4],contentActions:{"*":{eventType:"click",callback:t[10],callbackParams:[t[22]],closeOnCallback:!0}},contentClassName:t[3],disabled:!t[2]})},i(c){l||(N(f,c),l=!0)},o(c){X(f,c),l=!1},d(c){c&&te(e),f&&f.d(c),r=!1,s()}}}function ns(t){let e;const n=t[15].input,i=Pe(n,t,t[14],jn),l=i||function(r){let s,o;return s=new Gl({props:{color:r[1],inputType:r[7]}}),s.$on("add",r[9]),{c(){vt(s.$$.fragment)},m(a,f){xe(s,a,f),o=!0},p(a,f){const c={};2&f&&(c.color=a[1]),128&f&&(c.inputType=a[7]),s.$set(c)},i(a){o||(N(s.$$.fragment,a),o=!0)},o(a){X(s.$$.fragment,a),o=!1},d(a){$e(s,a)}}}(t);return{c(){l&&l.c()},m(r,s){l&&l.m(r,s),e=!0},p(r,s){i?i.p&&(!e||16384&s)&&Ve(i,n,r,r[14],e?s:-1,Wl,jn):l&&l.p&&(!e||130&s)&&l.p(r,e?s:-1)},i(r){e||(N(l,r),e=!0)},o(r){X(l,r),e=!1},d(r){l&&l.d(r)}}}function Gn(t){let e;return{c(){e=ie("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -256 1792 1792" class="svelte-1l8hev9"><g transform="matrix(1,0,0,-1,197.42373,1255.0508)" class="svelte-1l8hev9"><path d="M 512,800 V 224 q 0,-14 -9,-23 -9,-9 -23,-9 h -64 q -14,0 -23,9 -9,9 -9,23 v 576 q 0,14 9,23 9,9 23,9 h 64 q 14,0 23,-9 9,-9 9,-23 z m 256,0 V 224 q 0,-14 -9,-23 -9,-9 -23,-9 h -64 q -14,0 -23,9 -9,9 -9,23 v 576 q 0,14 9,23 9,9 23,9 h 64 q 14,0 23,-9 9,-9 9,-23 z m 256,0 V 224 q 0,-14 -9,-23 -9,-9 -23,-9 h -64 q -14,0 -23,9 -9,9 -9,23 v 576 q 0,14 9,23 9,9 23,9 h 64 q 14,0 23,-9 9,-9 9,-23 z M 1152,76 v 948 H 256 V 76 Q 256,54 263,35.5 270,17 277.5,8.5 285,0 288,0 h 832 q 3,0 10.5,8.5 7.5,8.5 14.5,27 7,18.5 7,40.5 z M 480,1152 h 448 l -48,117 q -7,9 -17,11 H 546 q -10,-2 -17,-11 z m 928,-32 v -64 q 0,-14 -9,-23 -9,-9 -23,-9 h -96 V 76 q 0,-83 -47,-143.5 -47,-60.5 -113,-60.5 H 288 q -66,0 -113,58.5 Q 128,-11 128,72 v 952 H 32 q -14,0 -23,9 -9,9 -9,23 v 64 q 0,14 9,23 9,9 23,9 h 309 l 70,167 q 15,37 54,63 39,26 79,26 h 320 q 40,0 79,-26 39,-26 54,-63 l 70,-167 h 309 q 14,0 23,-9 9,-9 9,-23 z" class="svelte-1l8hev9"></path></g></svg>',T(e,"data-testid","__palette-tooltip__"),T(e,"class","tooltip__button svelte-1l8hev9")},m(n,i){ne(n,e,i)},d(n){n&&te(e)}}}function is(t){let e,n,i,l,r,s,o,a,f,c,u=t[12].header&&Rn(t),p=t[5]&&Fn(t),m=t[0].slice(0,t[0].length<t[6]||t[6]===-1?t[0].length:t[6]),h=[];for(let _=0;_<m.length;_+=1)h[_]=Xn(In(t,m,_));const g=_=>X(h[_],1,1,()=>{h[_]=null}),w=t[15]["footer-divider"],b=Pe(w,t,t[14],Vn),k=b||function(_){let C;return{c(){C=ie("hr"),T(C,"class","palette__divider svelte-1l8hev9")},m(D,R){ne(D,C,R)},d(D){D&&te(C)}}}(),M=t[15].footer,L=Pe(M,t,t[14],Pn),P=L||ns(t);let O=!t[4]&&Gn();return{c(){e=ie("section"),u&&u.c(),n=he(),i=ie("ul"),p&&p.c(),l=he();for(let _=0;_<h.length;_+=1)h[_].c();r=he(),k&&k.c(),s=he(),P&&P.c(),a=he(),O&&O.c(),f=Li(),T(i,"class","palette__list svelte-1l8hev9"),T(e,"class",o=kn(zt([[!!t[11].class,t[11].class,"palette__root"]]))+" svelte-1l8hev9")},m(_,C){ne(_,e,C),u&&u.m(e,null),Y(e,n),Y(e,i),p&&p.m(i,null),Y(i,l);for(let D=0;D<h.length;D+=1)h[D].m(i,null);Y(e,r),k&&k.m(e,null),Y(e,s),P&&P.m(e,null),ne(_,a,C),O&&O.m(_,C),ne(_,f,C),c=!0},p(_,[C]){if(_[12].header?u?(u.p(_,C),4096&C&&N(u,1)):(u=Rn(_),u.c(),N(u,1),u.m(e,n)):u&&(ft(),X(u,1,1,()=>{u=null}),ct()),_[5]?p?(p.p(_,C),32&C&&N(p,1)):(p=Fn(_),p.c(),N(p,1),p.m(i,l)):p&&(ft(),X(p,1,1,()=>{p=null}),ct()),17759&C){let D;for(m=_[0].slice(0,_[0].length<_[6]||_[6]===-1?_[0].length:_[6]),D=0;D<m.length;D+=1){const R=In(_,m,D);h[D]?(h[D].p(R,C),N(h[D],1)):(h[D]=Xn(R),h[D].c(),N(h[D],1),h[D].m(i,null))}for(ft(),D=m.length;D<h.length;D+=1)g(D);ct()}b&&b.p&&(!c||16384&C)&&Ve(b,w,_,_[14],c?C:-1,Zl,Vn),L?L.p&&(!c||16384&C)&&Ve(L,M,_,_[14],c?C:-1,Ql,Pn):P&&P.p&&(!c||16514&C)&&P.p(_,c?C:-1),(!c||2048&C&&o!==(o=kn(zt([[!!_[11].class,_[11].class,"palette__root"]]))+" svelte-1l8hev9"))&&T(e,"class",o),_[4]?O&&(O.d(1),O=null):O||(O=Gn(),O.c(),O.m(f.parentNode,f))},i(_){if(!c){N(u),N(p);for(let C=0;C<m.length;C+=1)N(h[C]);N(k,_),N(P,_),c=!0}},o(_){X(u),X(p),h=h.filter(Boolean);for(let C=0;C<h.length;C+=1)X(h[C]);X(k,_),X(P,_),c=!1},d(_){_&&te(e),u&&u.d(),p&&p.d(),function(C,D){for(let R=0;R<C.length;R+=1)C[R]&&C[R].d(D)}(h,_),k&&k.d(_),P&&P.d(_),_&&te(a),O&&O.d(_),_&&te(f)}}}function ls(t,e,n){let{$$slots:i={},$$scope:l}=e;const r=function(b){const k={};for(const M in b)k[M]=!0;return k}(i);let{colors:s=[]}=e,{selectedColor:o=null}=e,{allowDuplicates:a=!1}=e,{allowDeletion:f=!1}=e,{tooltipClassName:c=null}=e,{tooltipContentSelector:u=null}=e,{showTransparentSlot:p=!1}=e,{maxColors:m=30}=e,{inputType:h="text"}=e;const g=Kt();var w;return w=()=>{a||n(0,s=s.filter((b,k)=>s.indexOf(b)===k))},Oi().$$.after_update.push(w),t.$$set=b=>{n(11,e=ye(ye({},e),Ot(b))),"colors"in b&&n(0,s=b.colors),"selectedColor"in b&&n(1,o=b.selectedColor),"allowDuplicates"in b&&n(13,a=b.allowDuplicates),"allowDeletion"in b&&n(2,f=b.allowDeletion),"tooltipClassName"in b&&n(3,c=b.tooltipClassName),"tooltipContentSelector"in b&&n(4,u=b.tooltipContentSelector),"showTransparentSlot"in b&&n(5,p=b.showTransparentSlot),"maxColors"in b&&n(6,m=b.maxColors),"inputType"in b&&n(7,h=b.inputType),"$$scope"in b&&n(14,l=b.$$scope)},e=Ot(e),[s,o,f,c,u,p,m,h,({detail:{color:b}})=>(k=>{n(1,o=k),g("select",{color:k})})(b),({detail:{color:b}})=>(k=>n(0,s=a||!s.includes(k)?[...s.slice(0,s.length<m||m===-1?s.length:m-1),k]:s))(b),b=>(k=>n(0,s=s.filter((M,L)=>L!==k)))(b),e,r,a,l,i]}class ss extends Jt{constructor(e){super(),Ut(this,e,ls,is,Gt,{colors:0,selectedColor:1,allowDuplicates:13,allowDeletion:2,tooltipClassName:3,tooltipContentSelector:4,showTransparentSlot:5,maxColors:6,inputType:7})}}const Be=[];function rs(t,e=ce){let n;const i=new Set;function l(o){if(Qe(t,o)&&(t=o,n)){const a=!Be.length;for(const f of i)f[1](),Be.push(f,t);if(a){for(let f=0;f<Be.length;f+=2)Be[f][0](Be[f+1]);Be.length=0}}}function r(o){l(o(t))}function s(o,a=ce){const f=[o,a];return i.add(f),i.size===1&&(n=e(l)||ce),o(t),()=>{i.delete(f),i.size===0&&(n(),n=null)}}return{set:l,update:r,subscribe:s}}function Kn(t){return Object.prototype.toString.call(t)==="[object Date]"}function hn(t,e,n,i){if(typeof n=="number"||Kn(n)){const l=i-n,r=(n-e)/(t.dt||1/60),s=t.opts.stiffness*l,o=t.opts.damping*r,a=(s-o)*t.inv_mass,f=(r+a)*t.dt;return Math.abs(f)<t.opts.precision&&Math.abs(l)<t.opts.precision?i:(t.settled=!1,Kn(n)?new Date(n.getTime()+f):n+f)}else{if(Array.isArray(n))return n.map((l,r)=>hn(t,e[r],n[r],i[r]));if(typeof n=="object"){const l={};for(const r in n)l[r]=hn(t,e[r],n[r],i[r]);return l}else throw new Error(`Cannot spring ${typeof n} values`)}}function os(t,e={}){const n=rs(t),{stiffness:i=.15,damping:l=.8,precision:r=.01}=e;let s,o,a,f=t,c=t,u=1,p=0,m=!1;function h(w,b={}){c=w;const k=a={};if(t==null||b.hard||g.stiffness>=1&&g.damping>=1)return m=!0,s=wn(),f=w,n.set(t=c),Promise.resolve();if(b.soft){const M=b.soft===!0?.5:+b.soft;p=1/(M*60),u=0}return o||(s=wn(),m=!1,o=cl(M=>{if(m)return m=!1,o=null,!1;u=Math.min(u+p,1);const L={inv_mass:u,opts:g,settled:!0,dt:(M-s)*60/1e3},P=hn(L,f,t,c);return s=M,f=t,n.set(t=P),L.settled&&(o=null),!L.settled})),new Promise(M=>{o.promise.then(()=>{k===a&&M()})})}const g={set:h,update:(w,b)=>h(w(c,t),b),subscribe:n.subscribe,stiffness:i,damping:l,precision:r};return g}function Un(t,e,n){const i=t.slice();return i[28]=e[n],i[30]=n,i}function Jn(t){let e,n,i,l,r=(t[6]==="label"||t[7]==="label")&&Yn(t);return{c(){e=H("span"),r&&r.c(),y(e,"class","pip first"),y(e,"style",n=t[14]+": 0%;"),S(e,"selected",t[18](t[0])),S(e,"in-range",t[17](t[0]))},m(s,o){B(s,e,o),r&&r.m(e,null),i||(l=[F(e,"click",function(){Ne(t[21](t[0]))&&t[21](t[0]).apply(this,arguments)}),F(e,"touchend",dt(function(){Ne(t[21](t[0]))&&t[21](t[0]).apply(this,arguments)}))],i=!0)},p(s,o){t=s,t[6]==="label"||t[7]==="label"?r?r.p(t,o):(r=Yn(t),r.c(),r.m(e,null)):r&&(r.d(1),r=null),o&16384&&n!==(n=t[14]+": 0%;")&&y(e,"style",n),o&262145&&S(e,"selected",t[18](t[0])),o&131073&&S(e,"in-range",t[17](t[0]))},d(s){s&&z(e),r&&r.d(),i=!1,me(l)}}}function Yn(t){let e,n=t[12](t[16](t[0]),0,0)+"",i,l=t[10]&&Wn(t),r=t[11]&&Qn(t);return{c(){e=H("span"),l&&l.c(),i=Z(n),r&&r.c(),y(e,"class","pipVal")},m(s,o){B(s,e,o),l&&l.m(e,null),q(e,i),r&&r.m(e,null)},p(s,o){s[10]?l?l.p(s,o):(l=Wn(s),l.c(),l.m(e,i)):l&&(l.d(1),l=null),o&69633&&n!==(n=s[12](s[16](s[0]),0,0)+"")&&le(i,n),s[11]?r?r.p(s,o):(r=Qn(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(s){s&&z(e),l&&l.d(),r&&r.d()}}}function Wn(t){let e,n;return{c(){e=H("span"),n=Z(t[10]),y(e,"class","pipVal-prefix")},m(i,l){B(i,e,l),q(e,n)},p(i,l){l&1024&&le(n,i[10])},d(i){i&&z(e)}}}function Qn(t){let e,n;return{c(){e=H("span"),n=Z(t[11]),y(e,"class","pipVal-suffix")},m(i,l){B(i,e,l),q(e,n)},p(i,l){l&2048&&le(n,i[11])},d(i){i&&z(e)}}}function Zn(t){let e,n=Array(t[20]+1),i=[];for(let l=0;l<n.length;l+=1)i[l]=ni(Un(t,n,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=yi()},m(l,r){for(let s=0;s<i.length;s+=1)i[s].m(l,r);B(l,e,r)},p(l,r){if(r&4120131){n=Array(l[20]+1);let s;for(s=0;s<n.length;s+=1){const o=Un(l,n,s);i[s]?i[s].p(o,r):(i[s]=ni(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(l){vi(i,l),l&&z(e)}}}function xn(t){let e,n,i,l,r,s=(t[6]==="label"||t[9]==="label")&&$n(t);return{c(){e=H("span"),s&&s.c(),n=pe(),y(e,"class","pip"),y(e,"style",i=t[14]+": "+t[15](t[19](t[30]))+"%;"),S(e,"selected",t[18](t[19](t[30]))),S(e,"in-range",t[17](t[19](t[30])))},m(o,a){B(o,e,a),s&&s.m(e,null),q(e,n),l||(r=[F(e,"click",function(){Ne(t[21](t[19](t[30])))&&t[21](t[19](t[30])).apply(this,arguments)}),F(e,"touchend",dt(function(){Ne(t[21](t[19](t[30])))&&t[21](t[19](t[30])).apply(this,arguments)}))],l=!0)},p(o,a){t=o,t[6]==="label"||t[9]==="label"?s?s.p(t,a):(s=$n(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),a&573440&&i!==(i=t[14]+": "+t[15](t[19](t[30]))+"%;")&&y(e,"style",i),a&786432&&S(e,"selected",t[18](t[19](t[30]))),a&655360&&S(e,"in-range",t[17](t[19](t[30])))},d(o){o&&z(e),s&&s.d(),l=!1,me(r)}}}function $n(t){let e,n=t[12](t[19](t[30]),t[30],t[15](t[19](t[30])))+"",i,l=t[10]&&ei(t),r=t[11]&&ti(t);return{c(){e=H("span"),l&&l.c(),i=Z(n),r&&r.c(),y(e,"class","pipVal")},m(s,o){B(s,e,o),l&&l.m(e,null),q(e,i),r&&r.m(e,null)},p(s,o){s[10]?l?l.p(s,o):(l=ei(s),l.c(),l.m(e,i)):l&&(l.d(1),l=null),o&561152&&n!==(n=s[12](s[19](s[30]),s[30],s[15](s[19](s[30])))+"")&&le(i,n),s[11]?r?r.p(s,o):(r=ti(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(s){s&&z(e),l&&l.d(),r&&r.d()}}}function ei(t){let e,n;return{c(){e=H("span"),n=Z(t[10]),y(e,"class","pipVal-prefix")},m(i,l){B(i,e,l),q(e,n)},p(i,l){l&1024&&le(n,i[10])},d(i){i&&z(e)}}}function ti(t){let e,n;return{c(){e=H("span"),n=Z(t[11]),y(e,"class","pipVal-suffix")},m(i,l){B(i,e,l),q(e,n)},p(i,l){l&2048&&le(n,i[11])},d(i){i&&z(e)}}}function ni(t){let e=t[19](t[30])!==t[0]&&t[19](t[30])!==t[1],n,i=e&&xn(t);return{c(){i&&i.c(),n=yi()},m(l,r){i&&i.m(l,r),B(l,n,r)},p(l,r){r&524291&&(e=l[19](l[30])!==l[0]&&l[19](l[30])!==l[1]),e?i?i.p(l,r):(i=xn(l),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(l){i&&i.d(l),l&&z(n)}}}function ii(t){let e,n,i,l,r=(t[6]==="label"||t[8]==="label")&&li(t);return{c(){e=H("span"),r&&r.c(),y(e,"class","pip last"),y(e,"style",n=t[14]+": 100%;"),S(e,"selected",t[18](t[1])),S(e,"in-range",t[17](t[1]))},m(s,o){B(s,e,o),r&&r.m(e,null),i||(l=[F(e,"click",function(){Ne(t[21](t[1]))&&t[21](t[1]).apply(this,arguments)}),F(e,"touchend",dt(function(){Ne(t[21](t[1]))&&t[21](t[1]).apply(this,arguments)}))],i=!0)},p(s,o){t=s,t[6]==="label"||t[8]==="label"?r?r.p(t,o):(r=li(t),r.c(),r.m(e,null)):r&&(r.d(1),r=null),o&16384&&n!==(n=t[14]+": 100%;")&&y(e,"style",n),o&262146&&S(e,"selected",t[18](t[1])),o&131074&&S(e,"in-range",t[17](t[1]))},d(s){s&&z(e),r&&r.d(),i=!1,me(l)}}}function li(t){let e,n=t[12](t[16](t[1]),t[20],100)+"",i,l=t[10]&&si(t),r=t[11]&&ri(t);return{c(){e=H("span"),l&&l.c(),i=Z(n),r&&r.c(),y(e,"class","pipVal")},m(s,o){B(s,e,o),l&&l.m(e,null),q(e,i),r&&r.m(e,null)},p(s,o){s[10]?l?l.p(s,o):(l=si(s),l.c(),l.m(e,i)):l&&(l.d(1),l=null),o&1118210&&n!==(n=s[12](s[16](s[1]),s[20],100)+"")&&le(i,n),s[11]?r?r.p(s,o):(r=ri(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(s){s&&z(e),l&&l.d(),r&&r.d()}}}function si(t){let e,n;return{c(){e=H("span"),n=Z(t[10]),y(e,"class","pipVal-prefix")},m(i,l){B(i,e,l),q(e,n)},p(i,l){l&1024&&le(n,i[10])},d(i){i&&z(e)}}}function ri(t){let e,n;return{c(){e=H("span"),n=Z(t[11]),y(e,"class","pipVal-suffix")},m(i,l){B(i,e,l),q(e,n)},p(i,l){l&2048&&le(n,i[11])},d(i){i&&z(e)}}}function as(t){let e,n,i,l=(t[6]&&t[7]!==!1||t[7])&&Jn(t),r=(t[6]&&t[9]!==!1||t[9])&&Zn(t),s=(t[6]&&t[8]!==!1||t[8])&&ii(t);return{c(){e=H("div"),l&&l.c(),n=pe(),r&&r.c(),i=pe(),s&&s.c(),y(e,"class","rangePips"),S(e,"disabled",t[5]),S(e,"hoverable",t[4]),S(e,"vertical",t[2]),S(e,"reversed",t[3]),S(e,"focus",t[13])},m(o,a){B(o,e,a),l&&l.m(e,null),q(e,n),r&&r.m(e,null),q(e,i),s&&s.m(e,null)},p(o,[a]){o[6]&&o[7]!==!1||o[7]?l?l.p(o,a):(l=Jn(o),l.c(),l.m(e,n)):l&&(l.d(1),l=null),o[6]&&o[9]!==!1||o[9]?r?r.p(o,a):(r=Zn(o),r.c(),r.m(e,i)):r&&(r.d(1),r=null),o[6]&&o[8]!==!1||o[8]?s?s.p(o,a):(s=ii(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),a&32&&S(e,"disabled",o[5]),a&16&&S(e,"hoverable",o[4]),a&4&&S(e,"vertical",o[2]),a&8&&S(e,"reversed",o[3]),a&8192&&S(e,"focus",o[13])},i:ce,o:ce,d(o){o&&z(e),l&&l.d(),r&&r.d(),s&&s.d()}}}function us(t,e,n){let i,l,r,s,o,{range:a=!1}=e,{min:f=0}=e,{max:c=100}=e,{step:u=1}=e,{values:p=[(c+f)/2]}=e,{vertical:m=!1}=e,{reversed:h=!1}=e,{hoverable:g=!0}=e,{disabled:w=!1}=e,{pipstep:b=void 0}=e,{all:k=!0}=e,{first:M=void 0}=e,{last:L=void 0}=e,{rest:P=void 0}=e,{prefix:O=""}=e,{suffix:_=""}=e,{formatter:C=(v,be)=>v}=e,{focus:D=void 0}=e,{orientationStart:R=void 0}=e,{percentOf:se=void 0}=e,{moveHandle:J=void 0}=e,{fixFloat:W=void 0}=e;function re(v){w||J(void 0,v)}return t.$$set=v=>{"range"in v&&n(22,a=v.range),"min"in v&&n(0,f=v.min),"max"in v&&n(1,c=v.max),"step"in v&&n(23,u=v.step),"values"in v&&n(24,p=v.values),"vertical"in v&&n(2,m=v.vertical),"reversed"in v&&n(3,h=v.reversed),"hoverable"in v&&n(4,g=v.hoverable),"disabled"in v&&n(5,w=v.disabled),"pipstep"in v&&n(25,b=v.pipstep),"all"in v&&n(6,k=v.all),"first"in v&&n(7,M=v.first),"last"in v&&n(8,L=v.last),"rest"in v&&n(9,P=v.rest),"prefix"in v&&n(10,O=v.prefix),"suffix"in v&&n(11,_=v.suffix),"formatter"in v&&n(12,C=v.formatter),"focus"in v&&n(13,D=v.focus),"orientationStart"in v&&n(14,R=v.orientationStart),"percentOf"in v&&n(15,se=v.percentOf),"moveHandle"in v&&n(26,J=v.moveHandle),"fixFloat"in v&&n(16,W=v.fixFloat)},t.$$.update=()=>{t.$$.dirty&41943047&&n(27,i=b||((c-f)/u>=(m?50:100)?(c-f)/(m?10:20):1)),t.$$.dirty&142606339&&n(20,l=parseInt((c-f)/(u*i),10)),t.$$.dirty&142671873&&n(19,r=function(v){return W(f+v*u*i)}),t.$$.dirty&16842752&&n(18,s=function(v){return p.some(be=>W(be)===W(v))}),t.$$.dirty&20971520&&n(17,o=function(v){if(a==="min")return p[0]>v;if(a==="max")return p[0]<v;if(a)return p[0]<v&&p[1]>v})},[f,c,m,h,g,w,k,M,L,P,O,_,C,D,R,se,W,o,s,r,l,re,a,u,p,b,J,i]}class fs extends _t{constructor(e){super(),gt(this,e,us,as,Qe,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16})}}function oi(t,e,n){const i=t.slice();return i[64]=e[n],i[66]=n,i}function ai(t){let e,n=t[21](t[64],t[66],t[23](t[64]))+"",i,l=t[18]&&ui(t),r=t[19]&&fi(t);return{c(){e=H("span"),l&&l.c(),i=Z(n),r&&r.c(),y(e,"class","rangeFloat")},m(s,o){B(s,e,o),l&&l.m(e,null),q(e,i),r&&r.m(e,null)},p(s,o){s[18]?l?l.p(s,o):(l=ui(s),l.c(),l.m(e,i)):l&&(l.d(1),l=null),o[0]&10485761&&n!==(n=s[21](s[64],s[66],s[23](s[64]))+"")&&le(i,n),s[19]?r?r.p(s,o):(r=fi(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(s){s&&z(e),l&&l.d(),r&&r.d()}}}function ui(t){let e,n;return{c(){e=H("span"),n=Z(t[18]),y(e,"class","rangeFloat-prefix")},m(i,l){B(i,e,l),q(e,n)},p(i,l){l[0]&262144&&le(n,i[18])},d(i){i&&z(e)}}}function fi(t){let e,n;return{c(){e=H("span"),n=Z(t[19]),y(e,"class","rangeFloat-suffix")},m(i,l){B(i,e,l),q(e,n)},p(i,l){l[0]&524288&&le(n,i[19])},d(i){i&&z(e)}}}function ci(t){let e,n,i,l,r,s,o,a,f,c,u,p,m=t[7]&&ai(t);return{c(){e=H("span"),n=H("span"),i=pe(),m&&m.c(),y(n,"class","rangeNub"),y(e,"role","slider"),y(e,"class","rangeHandle"),y(e,"data-handle",t[66]),y(e,"style",l=t[28]+": "+t[29][t[66]]+"%; z-index: "+(t[26]===t[66]?3:2)+";"),y(e,"aria-valuemin",r=t[2]===!0&&t[66]===1?t[0][0]:t[3]),y(e,"aria-valuemax",s=t[2]===!0&&t[66]===0?t[0][1]:t[4]),y(e,"aria-valuenow",o=t[64]),y(e,"aria-valuetext",a=""+(t[18]+t[21](t[64],t[66],t[23](t[64]))+t[19])),y(e,"aria-orientation",f=t[6]?"vertical":"horizontal"),y(e,"aria-disabled",t[10]),y(e,"disabled",t[10]),y(e,"tabindex",c=t[10]?-1:0),S(e,"active",t[24]&&t[26]===t[66]),S(e,"press",t[25]&&t[26]===t[66])},m(h,g){B(h,e,g),q(e,n),q(e,i),m&&m.m(e,null),u||(p=[F(e,"blur",t[34]),F(e,"focus",t[35]),F(e,"keydown",t[36])],u=!0)},p(h,g){h[7]?m?m.p(h,g):(m=ai(h),m.c(),m.m(e,null)):m&&(m.d(1),m=null),g[0]&872415232&&l!==(l=h[28]+": "+h[29][h[66]]+"%; z-index: "+(h[26]===h[66]?3:2)+";")&&y(e,"style",l),g[0]&13&&r!==(r=h[2]===!0&&h[66]===1?h[0][0]:h[3])&&y(e,"aria-valuemin",r),g[0]&21&&s!==(s=h[2]===!0&&h[66]===0?h[0][1]:h[4])&&y(e,"aria-valuemax",s),g[0]&1&&o!==(o=h[64])&&y(e,"aria-valuenow",o),g[0]&11272193&&a!==(a=""+(h[18]+h[21](h[64],h[66],h[23](h[64]))+h[19]))&&y(e,"aria-valuetext",a),g[0]&64&&f!==(f=h[6]?"vertical":"horizontal")&&y(e,"aria-orientation",f),g[0]&1024&&y(e,"aria-disabled",h[10]),g[0]&1024&&y(e,"disabled",h[10]),g[0]&1024&&c!==(c=h[10]?-1:0)&&y(e,"tabindex",c),g[0]&83886080&&S(e,"active",h[24]&&h[26]===h[66]),g[0]&100663296&&S(e,"press",h[25]&&h[26]===h[66])},d(h){h&&z(e),m&&m.d(),u=!1,me(p)}}}function di(t){let e,n;return{c(){e=H("span"),y(e,"class","rangeBar"),y(e,"style",n=t[28]+": "+t[32](t[29])+"%; "+t[27]+": "+t[33](t[29])+"%;")},m(i,l){B(i,e,l)},p(i,l){l[0]&939524096&&n!==(n=i[28]+": "+i[32](i[29])+"%; "+i[27]+": "+i[33](i[29])+"%;")&&y(e,"style",n)},d(i){i&&z(e)}}}function hi(t){let e,n;return e=new fs({props:{values:t[0],min:t[3],max:t[4],step:t[5],range:t[2],vertical:t[6],reversed:t[8],orientationStart:t[28],hoverable:t[9],disabled:t[10],all:t[13],first:t[14],last:t[15],rest:t[16],pipstep:t[12],prefix:t[18],suffix:t[19],formatter:t[20],focus:t[24],percentOf:t[23],moveHandle:t[31],fixFloat:t[30]}}),{c(){mt(e.$$.fragment)},m(i,l){Je(e,i,l),n=!0},p(i,l){const r={};l[0]&1&&(r.values=i[0]),l[0]&8&&(r.min=i[3]),l[0]&16&&(r.max=i[4]),l[0]&32&&(r.step=i[5]),l[0]&4&&(r.range=i[2]),l[0]&64&&(r.vertical=i[6]),l[0]&256&&(r.reversed=i[8]),l[0]&268435456&&(r.orientationStart=i[28]),l[0]&512&&(r.hoverable=i[9]),l[0]&1024&&(r.disabled=i[10]),l[0]&8192&&(r.all=i[13]),l[0]&16384&&(r.first=i[14]),l[0]&32768&&(r.last=i[15]),l[0]&65536&&(r.rest=i[16]),l[0]&4096&&(r.pipstep=i[12]),l[0]&262144&&(r.prefix=i[18]),l[0]&524288&&(r.suffix=i[19]),l[0]&1048576&&(r.formatter=i[20]),l[0]&16777216&&(r.focus=i[24]),l[0]&8388608&&(r.percentOf=i[23]),e.$set(r)},i(i){n||(ve(e.$$.fragment,i),n=!0)},o(i){je(e.$$.fragment,i),n=!1},d(i){Ye(e,i)}}}function cs(t){let e,n,i,l,r,s,o=t[0],a=[];for(let u=0;u<o.length;u+=1)a[u]=ci(oi(t,o,u));let f=t[2]&&di(t),c=t[11]&&hi(t);return{c(){e=H("div");for(let u=0;u<a.length;u+=1)a[u].c();n=pe(),f&&f.c(),i=pe(),c&&c.c(),y(e,"id",t[17]),y(e,"class","rangeSlider"),S(e,"range",t[2]),S(e,"disabled",t[10]),S(e,"hoverable",t[9]),S(e,"vertical",t[6]),S(e,"reversed",t[8]),S(e,"focus",t[24]),S(e,"min",t[2]==="min"),S(e,"max",t[2]==="max"),S(e,"pips",t[11]),S(e,"pip-labels",t[13]==="label"||t[14]==="label"||t[15]==="label"||t[16]==="label")},m(u,p){B(u,e,p);for(let m=0;m<a.length;m+=1)a[m].m(e,null);q(e,n),f&&f.m(e,null),q(e,i),c&&c.m(e,null),t[50](e),l=!0,r||(s=[F(window,"mousedown",t[39]),F(window,"touchstart",t[39]),F(window,"mousemove",t[40]),F(window,"touchmove",t[40]),F(window,"mouseup",t[41]),F(window,"touchend",t[42]),F(window,"keydown",t[43]),F(e,"mousedown",t[37]),F(e,"mouseup",t[38]),F(e,"touchstart",dt(t[37])),F(e,"touchend",dt(t[38]))],r=!0)},p(u,p){if(p[0]&934020317|p[1]&56){o=u[0];let m;for(m=0;m<o.length;m+=1){const h=oi(u,o,m);a[m]?a[m].p(h,p):(a[m]=ci(h),a[m].c(),a[m].m(e,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=o.length}u[2]?f?f.p(u,p):(f=di(u),f.c(),f.m(e,i)):f&&(f.d(1),f=null),u[11]?c?(c.p(u,p),p[0]&2048&&ve(c,1)):(c=hi(u),c.c(),ve(c,1),c.m(e,null)):c&&(yl(),je(c,1,1,()=>{c=null}),wl()),(!l||p[0]&131072)&&y(e,"id",u[17]),p[0]&4&&S(e,"range",u[2]),p[0]&1024&&S(e,"disabled",u[10]),p[0]&512&&S(e,"hoverable",u[9]),p[0]&64&&S(e,"vertical",u[6]),p[0]&256&&S(e,"reversed",u[8]),p[0]&16777216&&S(e,"focus",u[24]),p[0]&4&&S(e,"min",u[2]==="min"),p[0]&4&&S(e,"max",u[2]==="max"),p[0]&2048&&S(e,"pips",u[11]),p[0]&122880&&S(e,"pip-labels",u[13]==="label"||u[14]==="label"||u[15]==="label"||u[16]==="label")},i(u){l||(ve(c),l=!0)},o(u){je(c),l=!1},d(u){u&&z(e),vi(a,u),f&&f.d(),c&&c.d(),t[50](null),r=!1,me(s)}}}function pi(t){if(!t)return-1;for(var e=0;t=t.previousElementSibling;)e++;return e}function nn(t){return t.type.includes("touch")?t.touches[0]:t}function ds(t,e,n){let i,l,r,s,o,a,f=ce,c=()=>(f(),f=fl(it,d=>n(29,a=d)),it);t.$$.on_destroy.push(()=>f());let{slider:u=void 0}=e,{range:p=!1}=e,{pushy:m=!1}=e,{min:h=0}=e,{max:g=100}=e,{step:w=1}=e,{values:b=[(g+h)/2]}=e,{vertical:k=!1}=e,{float:M=!1}=e,{reversed:L=!1}=e,{hoverable:P=!0}=e,{disabled:O=!1}=e,{pips:_=!1}=e,{pipstep:C=void 0}=e,{all:D=void 0}=e,{first:R=void 0}=e,{last:se=void 0}=e,{rest:J=void 0}=e,{id:W=void 0}=e,{prefix:re=""}=e,{suffix:v=""}=e,{formatter:be=(d,A,I)=>d}=e,{handleFormatter:et=be}=e,{precision:oe=2}=e,{springValues:ae={stiffness:.15,damping:.4}}=e;const Ie=ml();let Yt=0,Ce=!1,qe=!1,ze=!1,Wt=!1,ue=b.length-1,tt,nt,it;const lt=d=>parseFloat(d.toFixed(oe));function Ri(d){const A=u.querySelectorAll(".handle"),I=Array.prototype.includes.call(A,d),j=Array.prototype.some.call(A,ge=>ge.contains(d));return I||j}function Fi(d){return p==="min"||p==="max"?d.slice(0,1):p?d.slice(0,2):d}function gn(){return u.getBoundingClientRect()}function Xi(d){const A=gn();let I=0,j=0,ge=0;k?(I=d.clientY-A.top,j=I/A.height*100,j=L?j:100-j):(I=d.clientX-A.left,j=I/A.width*100,j=L?100-j:j),ge=(g-h)/100*j+h;let vn;return p===!0&&b[0]===b[1]?ge>b[1]?1:0:(vn=b.indexOf([...b].sort((sl,rl)=>Math.abs(ge-sl)-Math.abs(ge-rl))[0]),vn)}function Qt(d){const A=gn();let I=0,j=0,ge=0;k?(I=d.clientY-A.top,j=I/A.height*100,j=L?j:100-j):(I=d.clientX-A.left,j=I/A.width*100,j=L?100-j:j),ge=(g-h)/100*j+h,He(ue,ge)}function He(d,A){return A=r(A),typeof d>"u"&&(d=ue),p&&(d===0&&A>b[1]?m?n(0,b[1]=A,b):A=b[1]:d===1&&A<b[0]&&(m?n(0,b[0]=A,b):A=b[0])),b[d]!==A&&n(0,b[d]=A,b),nt!==A&&(il(),nt=A),A}function Gi(d){return p==="min"?0:d[0]}function Ki(d){return p==="max"?0:p==="min"?100-d[0]:100-d[1]}function Ui(d){Wt&&(n(24,Ce=!1),qe=!1,n(25,ze=!1))}function Ji(d){O||(n(26,ue=pi(d.target)),n(24,Ce=!0))}function Yi(d){if(!O){const A=pi(d.target);let I=d.ctrlKey||d.metaKey||d.shiftKey?w*10:w,j=!1;switch(d.key){case"PageDown":I*=10;case"ArrowRight":case"ArrowUp":He(A,b[A]+I),j=!0;break;case"PageUp":I*=10;case"ArrowLeft":case"ArrowDown":He(A,b[A]-I),j=!0;break;case"Home":He(A,h),j=!0;break;case"End":He(A,g),j=!0;break}j&&(d.preventDefault(),d.stopPropagation())}}function Wi(d){if(!O){const A=d.target,I=nn(d);n(24,Ce=!0),qe=!0,n(25,ze=!0),n(26,ue=Xi(I)),tt=nt=r(b[ue]),nl(),d.type==="touchstart"&&!A.matches(".pipVal")&&Qt(I)}}function Qi(d){d.type==="touchend"&&_n(),n(25,ze=!1)}function Zi(d){Wt=!1,Ce&&d.target!==u&&!u.contains(d.target)&&n(24,Ce=!1)}function xi(d){O||qe&&Qt(nn(d))}function $i(d){if(!O){const A=d.target;qe&&((A===u||u.contains(A))&&(n(24,Ce=!0),!Ri(A)&&!A.matches(".pipVal")&&Qt(nn(d))),_n())}qe=!1,n(25,ze=!1)}function el(d){qe=!1,n(25,ze=!1)}function tl(d){O||(d.target===u||u.contains(d.target))&&(Wt=!0)}function nl(){!O&&Ie("start",{activeHandle:ue,value:tt,values:b.map(d=>r(d))})}function _n(){!O&&Ie("stop",{activeHandle:ue,startValue:tt,value:b[ue],values:b.map(d=>r(d))})}function il(){!O&&Ie("change",{activeHandle:ue,startValue:tt,previousValue:typeof nt>"u"?tt:nt,value:b[ue],values:b.map(d=>r(d))})}function ll(d){pt[d?"unshift":"push"](()=>{u=d,n(1,u)})}return t.$$set=d=>{"slider"in d&&n(1,u=d.slider),"range"in d&&n(2,p=d.range),"pushy"in d&&n(44,m=d.pushy),"min"in d&&n(3,h=d.min),"max"in d&&n(4,g=d.max),"step"in d&&n(5,w=d.step),"values"in d&&n(0,b=d.values),"vertical"in d&&n(6,k=d.vertical),"float"in d&&n(7,M=d.float),"reversed"in d&&n(8,L=d.reversed),"hoverable"in d&&n(9,P=d.hoverable),"disabled"in d&&n(10,O=d.disabled),"pips"in d&&n(11,_=d.pips),"pipstep"in d&&n(12,C=d.pipstep),"all"in d&&n(13,D=d.all),"first"in d&&n(14,R=d.first),"last"in d&&n(15,se=d.last),"rest"in d&&n(16,J=d.rest),"id"in d&&n(17,W=d.id),"prefix"in d&&n(18,re=d.prefix),"suffix"in d&&n(19,v=d.suffix),"formatter"in d&&n(20,be=d.formatter),"handleFormatter"in d&&n(21,et=d.handleFormatter),"precision"in d&&n(45,oe=d.precision),"springValues"in d&&n(46,ae=d.springValues)},t.$$.update=()=>{t.$$.dirty[0]&24&&n(49,l=function(d){return d<=h?h:d>=g?g:d}),t.$$.dirty[0]&56|t.$$.dirty[1]&262144&&n(48,r=function(d){if(d<=h)return lt(h);if(d>=g)return lt(g);let A=(d-h)%w,I=d-A;return Math.abs(A)*2>=w&&(I+=A>0?w:-w),I=l(I),lt(I)}),t.$$.dirty[0]&24&&n(23,i=function(d){let A=(d-h)/(g-h)*100;return isNaN(A)||A<=0?0:A>=100?100:lt(A)}),t.$$.dirty[0]&12582937|t.$$.dirty[1]&229376&&(Array.isArray(b)||(n(0,b=[(g+h)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),n(0,b=Fi(b.map(d=>r(d)))),Yt!==b.length?c(n(22,it=os(b.map(d=>i(d)),ae))):it.set(b.map(d=>i(d))),n(47,Yt=b.length)),t.$$.dirty[0]&320&&n(28,s=k?L?"top":"bottom":L?"right":"left"),t.$$.dirty[0]&320&&n(27,o=k?L?"bottom":"top":L?"left":"right")},[b,u,p,h,g,w,k,M,L,P,O,_,C,D,R,se,J,W,re,v,be,et,it,i,Ce,ze,ue,o,s,a,lt,He,Gi,Ki,Ui,Ji,Yi,Wi,Qi,Zi,xi,$i,el,tl,m,oe,ae,Yt,r,l,ll]}class hs extends _t{constructor(e){super(),gt(this,e,ds,cs,Qe,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},null,[-1,-1,-1])}}function ps(t){let e,n,i,l,r,s,o,a,f,c,u,p;return l=new ss({props:{colors:t[2]}}),l.$on("select",t[4]),s=new hs({props:{min:1,values:[2],float:!0}}),s.$on("stop",t[5]),{c(){e=H("div"),n=H("p"),n.textContent="v1.3",i=pe(),mt(l.$$.fragment),r=pe(),mt(s.$$.fragment),o=pe(),a=H("button"),f=Z(t[1]),y(n,"class","svelte-1nn1tub"),y(a,"class","svelte-1nn1tub"),y(e,"class","svelte-1nn1tub")},m(m,h){B(m,e,h),q(e,n),q(e,i),Je(l,e,null),q(e,r),Je(s,e,null),q(e,o),q(e,a),q(a,f),c=!0,u||(p=F(a,"click",t[3]),u=!0)},p(m,[h]){(!c||h&2)&&le(f,m[1])},i(m){c||(ve(l.$$.fragment,m),ve(s.$$.fragment,m),c=!0)},o(m){je(l.$$.fragment,m),je(s.$$.fragment,m),c=!1},d(m){m&&z(e),Ye(l),Ye(s),u=!1,p()}}}function ms(t,e,n){let{wb:i}=e;const l=["rgb(255,255,255)","rgba(0,0,0, 0.2)","rgb(0,0,0)","rgb(134, 92, 84)","rgb(143, 84, 71)","rgb(166, 88, 70)","rgb(169, 113, 94)","rgb(173, 140, 114)","rgb(194, 176, 145)","rgb(23, 43, 65)","rgb(50, 70, 92)","rgb(97, 120, 153)","rgb(155, 162, 188)","rgb(132, 121, 153)","rgb(80, 82, 106)","rgb(139, 140, 107)","rgb(151, 168, 71)","rgb(91, 101, 44)","rgb(106, 106, 64)","rgb(242, 217, 191)","rgb(245, 186, 174)","rgb(241, 161, 145)"],r=async()=>{const c=await(await fetch("https://board.poop.fish/",{method:"POST",body:JSON.stringify(i),headers:{"Access-Control-Allow-Origin":"https://board.poop.fish","Content-Type":"application/json"}})).json();n(1,s=`https://board.poop.fish/#${c}`),navigator.clipboard.writeText(`https://board.poop.fish/#${c}`).then(function(){console.log("Async: Copying to clipboard was successful!"),n(1,s="copied!"),setTimeout(()=>{n(1,s="share")},2e3)},function(u){console.error("Async: Could not copy text: ",u)})};let{shareText:s="share"}=e;const o=f=>{n(0,i.brushColor=f.detail.color,i),console.log(f.detail.color)},a=f=>{n(0,i.brushSize=f.detail.value,i)};return t.$$set=f=>{"wb"in f&&n(0,i=f.wb),"shareText"in f&&n(1,s=f.shareText)},[i,s,l,r,o,a]}class bs extends _t{constructor(e){super(),gt(this,e,ms,ps,Qe,{wb:0,shareText:1})}}function gs(t){const e=Array.from(t).sort((i,l)=>i-l),n=Math.floor(e.length/2);return e.length%2===0?(e[n-1]+e[n])/2:e[n]}class _s{constructor(e){U(this,"canvas");U(this,"ctx");U(this,"assets");U(this,"isDrawing");U(this,"prevPoint");U(this,"_currentAsset");U(this,"brushColor","rgba(0,0,0,0.2)");U(this,"brushSize",2);this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.assets=[],this.isDrawing=!1,this.canvas.onmousedown=n=>{this.mousedown(n)},this.canvas.onmousemove=n=>{this.mousemove(n)},this.canvas.onmouseup=n=>{this.mouseup(n)},this.canvas.ontouchstart=n=>{this.touchstart(n)},this.canvas.ontouchmove=n=>{this.touchmove(n)},this.canvas.ontouchend=n=>{this.touchend(n)}}touchstart(e){if(e.touches.length===1){let n={x:e.touches[0].clientX,y:e.touches[0].clientY};this.mousedown(n)}}touchmove(e){if(e.touches.length===1){let n={x:e.touches[0].clientX,y:e.touches[0].clientY};this.mousemove(n)}}touchend(e){e.touches.length===0&&this.mouseup(e)}mousedown(e){this.isDrawing=!0,this.prevPoint||(this.prevPoint=new ee(e.x,e.y),this.assets.push(new vs(new ee(e.x,e.y))),this.currentAsset.brushColor=this.brushColor.valueOf(),this.currentAsset.brushSize=this.brushSize.valueOf())}mousemove(e){if(this.isDrawing){if(e.shiftKey){this.currentAsset.points.length<2&&this.currentAsset.points.push(this.currentAsset.points[0].clone());let n=Math.abs(e.x-this.currentAsset.points[this.currentAsset.points.length-2].x)/Math.abs(e.y-this.currentAsset.points[this.currentAsset.points.length-2].y);if(n>1.5)this.currentAsset.points.splice(this.currentAsset.points.length-1,1,new ee(e.x,this.currentAsset.points[this.currentAsset.points.length-2].y));else if(n<.5)this.currentAsset.points.splice(this.currentAsset.points.length-1,1,new ee(this.currentAsset.points[this.currentAsset.points.length-2].x,e.y));else{let i=this.currentAsset.points[this.currentAsset.points.length-2].distance(new ee(e.x,e.y));this.currentAsset.points.splice(this.currentAsset.points.length-1,1,new ee(this.currentAsset.points[this.currentAsset.points.length-2].x+(e.x-this.currentAsset.points[this.currentAsset.points.length-2].x<0?-1:1)*i*Math.cos(Math.PI/4),this.currentAsset.points[this.currentAsset.points.length-2].y+(e.y-this.currentAsset.points[this.currentAsset.points.length-2].y<0?-1:1)*i*Math.sin(Math.PI/4)))}}else this.currentAsset.points.push(new ee(e.x,e.y));this.draw()}}mouseup(e){if(this.isDrawing=!1,this.prevPoint=null,e.ctrlKey&&this.currentAsset.loopDistance<=30){let n=this.getCorners(this.resample(this.currentAsset));n.length<7&&n.length>=5&&this.convertToSquare(this.currentAsset)}this.draw()}keydown(e){if(e.code==="KeyS"&&this.currentAsset!==void 0){if(!this.currentAsset.straightened)this.currentAsset.points=this.getCorners(this.resample(this.currentAsset)),this.currentAsset.straightened=!0;else for(let n=0;n<this.currentAsset.points.length-1;n++){let i=Math.abs(this.currentAsset.points[n].x-this.currentAsset.points[n+1].x),l=Math.abs(this.currentAsset.points[n].y-this.currentAsset.points[n+1].y),r=i/l;if(r<.2){let s=(this.currentAsset.points[n].x+this.currentAsset.points[n+1].x)/2;this.currentAsset.points[n].x=s,this.currentAsset.points[n+1].x=s}else if(r>.8){let s=(this.currentAsset.points[n].y+this.currentAsset.points[n+1].y)/2;this.currentAsset.points[n].y=s,this.currentAsset.points[n+1].y=s}}this.draw()}}get currentAsset(){return this.assets[this.assets.length-1]}convertToSquare(e){let n=e.bounds;e.points=[n[0],new ee(n[1].x,n[0].y),n[1],new ee(n[0].x,n[1].y),n[0]]}resample(e,n=!1){let i=Math.max(e.bounds[0].distance(e.bounds[1])/80,.5),l=[];l.push(e.points[0].clone());let r=0;for(let s=1;s<e.points.length;s++){let o=e.points[s-1].distance(e.points[s]);if(r+o>=i){let a=new ee(e.points[s-1].x+(i-r)/o*(e.points[s].x-e.points[s-1].x),e.points[s-1].y+(i-r)/o*(e.points[s].y-e.points[s-1].y));n?e.points.splice(s,0,a.clone()):l.push(a),r=0}else r+=o}return console.log("Resampled"),l}getCorners(e){let n=[];n.push(0);let i=3,l=[];for(let s=i;s<e.length-i;s++)l.push(e[s-i].distance(e[s+i]));let r=gs(l)*.95;console.log("Straws calculated");for(let s=i;s<e.length-i;s++)if(l[s-i]<r){let o=1/0,a=s;for(;s<l.length&&l[s-i]<r;)l[s-i]<o&&(o=l[s-i],a=s),s++;n.push(a)}return console.log("Basic pass completed"),n.push(e.length-1),console.log(n.length),n=this.post_process_corners(e,n,l),n.map(s=>e[s])}post_process_corners(e,n,i){for(let l=1;l<n.length-1;l++){let r=n[l-1],s=n[l+1];this.is_line(e,r,s)&&(n.splice(l,1),l--)}return n}halfway_corner(e,n,i){let l=(i-n)/4,r=1/0,s=n;for(let o=n+l;o<i-l;o++)e[o]<r&&(r=e[o],s=o);return s}is_line(e,n,i){let l=.95,r=e[n].distance(e[i]),s=this.path_distance(e,n,i);return r/s>l}path_distance(e,n,i){let l=0;for(let r=n;r<i-1;r++)l+=e[r].distance(e[r+1]);return l}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.lineCap="round",this.ctx.lineJoin="round";for(let e of this.assets){this.ctx.strokeStyle=e.brushColor,this.ctx.lineWidth=e.brushSize,this.ctx.beginPath();for(let n=0;n<e.points.length-1;n++)this.ctx.moveTo(e.points[n].x,e.points[n].y),this.ctx.lineTo(e.points[n+1].x,e.points[n+1].y);this.ctx.closePath(),this.ctx.stroke()}}loadJson(e){this.assets=e.assets.map(n=>{let i=new Bi;return i.points=n.points,i.brushColor=n.brushColor,i.brushSize=n.brushSize,i.straightened=n.straightened,i}),this.draw()}}class ee{constructor(e,n){U(this,"x");U(this,"y");this.x=e,this.y=n}distance(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}clone(){return new ee(this.x,this.y)}}class Bi{constructor(){U(this,"points");U(this,"_bounds");U(this,"_loopDistance");U(this,"_encoding");U(this,"straightened",!1);U(this,"brushColor","rgba(0, 0, 0)");U(this,"brushSize",5)}get loopDistance(){return this.points[0]==this.points[this.points.length-1]?0:this.points[0].distance(this.points[this.points.length-1])}get bounds(){let e=new ee(this.points[0].x,this.points[0].y),n=new ee(this.points[0].x,this.points[0].y);for(let i of this.points)i.y<e.y&&(e.y=i.y),i.x<e.x&&(e.x=i.x),i.x>n.x&&(n.x=i.x),i.y>n.y&&(n.y=i.y);return this._bounds=[e,n],this._bounds}get encoding(){return this.points.map(e=>e.x+"|"+e.y).join("|")}}class vs extends Bi{constructor(e){super(),this.points=[e]}add(e){this.points.push(e)}}const{window:pn}=Al;function ys(t){let e,n,i,l,r,s,o;Lt(t[5]);function a(c){t[6](c)}let f={wb:t[3]};return t[4]!==void 0&&(f.shareText=t[4]),e=new bs({props:f}),pt.push(()=>kl(e,"shareText",a)),{c(){mt(e.$$.fragment),i=pe(),l=H("canvas"),y(l,"id","test"),y(l,"width",t[0]),y(l,"height",t[1])},m(c,u){Je(e,c,u),B(c,i,u),B(c,l,u),t[7](l),r=!0,s||(o=F(pn,"resize",t[5]),s=!0)},p(c,[u]){const p={};u&8&&(p.wb=c[3]),!n&&u&16&&(n=!0,p.shareText=c[4],_l(()=>n=!1)),e.$set(p),(!r||u&1)&&y(l,"width",c[0]),(!r||u&2)&&y(l,"height",c[1])},i(c){r||(ve(e.$$.fragment,c),r=!0)},o(c){je(e.$$.fragment,c),r=!1},d(c){Ye(e,c),c&&z(i),c&&z(l),t[7](null),s=!1,o()}}}function ws(t,e,n){let i,l,r,s,o="share";pl(async()=>{if(console.log(r),n(3,s=new _s(r)),document.addEventListener("keydown",u=>{s.keydown(u)}),document.body.onresize=()=>{s.draw()},n(3,s.canvas.ontouchstart=u=>{o!="share"&&n(4,o="share"),s.touchstart(u)},s),window.location.hash.length>1){const u=window.location.hash.split("#")[1],m=await(await fetch(`https://board.poop.fish/?board=${u}`)).json();console.log("Loading board JSON"),s.loadJson(JSON.parse(m))}});function a(){n(0,i=pn.innerWidth),n(1,l=pn.innerHeight)}function f(u){o=u,n(4,o)}function c(u){pt[u?"unshift":"push"](()=>{r=u,n(2,r)})}return[i,l,r,s,o,a,f,c]}class As extends _t{constructor(e){super(),gt(this,e,ws,ys,Qe,{})}}function ks(t){let e,n;return e=new As({}),{c(){mt(e.$$.fragment)},m(i,l){Je(e,i,l),n=!0},p:ce,i(i){n||(ve(e.$$.fragment,i),n=!0)},o(i){je(e.$$.fragment,i),n=!1},d(i){Ye(e,i)}}}class Cs extends _t{constructor(e){super(),gt(this,e,null,ks,Qe,{})}}new Cs({target:document.getElementById("app")});
